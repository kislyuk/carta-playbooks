---
- name: install base requirements
  apt: name={{item}} state=installed
  with_items:
    - tmux
    - screen
    - keychain
    - nginx
    - htop
    - libsnappy-dev
    - git
    - curl
    - pandoc
    - lxc
    - ufw
    - bridge-utils
    - whois
    - ntp
    - build-essential
    - cryptsetup-bin
    - mdadm
    - btrfs-tools
    - unzip
    - uwsgi
    - colordiff
    - pydf
    - xfsprogs
    - mosh
    - emacs
    - nmap
    - cmake
    - flex
    - bison
    - libpam0g-dev
    - zlib1g-dev
    - libbz2-dev
    - libfuse-dev
    - libfuse2
    - fuse-utils
    - python-dev
    - python-pip
    - python-virtualenv
    - python-openssl
    - python-crypto
    - python-numpy
    - python-scipy
    - python3-setuptools
    - python3-dev
    - python3-crypto
    - python3-numpy
    - python3-scipy

- name: install node.js
  include: install_nodejs.yml

- name: install bashrc
  sudo: no
  template: src=bashrc dest=~/.bashrc

- name: format ephemeral storage
  script: assemble_ephemeral_RAID

- name: mount ephemeral storage
  mount: name=/mnt/ephemeral-raid src='LABEL=ephemeral-raid' state=mounted fstype=auto

- name: remove postfix
  apt: name=postfix state=absent

- name: remove whoopsie
  apt: name=whoopsie state=absent
